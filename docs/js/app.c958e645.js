(function(){"use strict";var t={5662:function(t,e,s){var n=s(9242),o=s(3396),i=s(7139),r=s(4870),a=(s(7658),s(1114));const l=/^[og]\s*(.+)?/,c=/^mtllib /,h=/^usemtl /,u=/^usemap /,p=/\s+/,m=new a.Pa4,d=new a.Pa4,f=new a.Pa4,g=new a.Pa4,b=new a.Pa4,v=new a.Ilk;function w(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const s=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const n={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){const e={index:"number"===typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},s&&s.name&&"function"===typeof s.clone){const t=s.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseNormalIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseUVIndex:function(t,e){const s=parseInt(t,10);return 2*(s>=0?s-1:s+e/2)},addVertex:function(t,e,s){const n=this.vertices,o=this.object.geometry.vertices;o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2]),o.push(n[s+0],n[s+1],n[s+2])},addVertexPoint:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,s){const n=this.normals,o=this.object.geometry.normals;o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2]),o.push(n[s+0],n[s+1],n[s+2])},addFaceNormal:function(t,e,s){const n=this.vertices,o=this.object.geometry.normals;m.fromArray(n,t),d.fromArray(n,e),f.fromArray(n,s),b.subVectors(f,d),g.subVectors(m,d),b.cross(g),b.normalize(),o.push(b.x,b.y,b.z),o.push(b.x,b.y,b.z),o.push(b.x,b.y,b.z)},addColor:function(t,e,s){const n=this.colors,o=this.object.geometry.colors;void 0!==n[t]&&o.push(n[t+0],n[t+1],n[t+2]),void 0!==n[e]&&o.push(n[e+0],n[e+1],n[e+2]),void 0!==n[s]&&o.push(n[s+0],n[s+1],n[s+2])},addUV:function(t,e,s){const n=this.uvs,o=this.object.geometry.uvs;o.push(n[t+0],n[t+1]),o.push(n[e+0],n[e+1]),o.push(n[s+0],n[s+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs,s=this.object.geometry.uvs;s.push(e[t+0],e[t+1])},addFace:function(t,e,s,n,o,i,r,a,l){const c=this.vertices.length;let h=this.parseVertexIndex(t,c),u=this.parseVertexIndex(e,c),p=this.parseVertexIndex(s,c);if(this.addVertex(h,u,p),this.addColor(h,u,p),void 0!==r&&""!==r){const t=this.normals.length;h=this.parseNormalIndex(r,t),u=this.parseNormalIndex(a,t),p=this.parseNormalIndex(l,t),this.addNormal(h,u,p)}else this.addFaceNormal(h,u,p);if(void 0!==n&&""!==n){const t=this.uvs.length;h=this.parseUVIndex(n,t),u=this.parseUVIndex(o,t),p=this.parseUVIndex(i,t),this.addUV(h,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let s=0,n=t.length;s<n;s++){const n=this.parseVertexIndex(t[s],e);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const s=this.vertices.length,n=this.uvs.length;for(let o=0,i=t.length;o<i;o++)this.addVertexLine(this.parseVertexIndex(t[o],s));for(let o=0,i=e.length;o<i;o++)this.addUVLine(this.parseUVIndex(e[o],n))}};return t.startObject("",!1),t}class y extends a.aNw{constructor(t){super(t),this.materials=null}load(t,e,s,n){const o=this,i=new a.hH6(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,(function(s){try{e(o.parse(s))}catch(i){n?n(i):console.error(i),o.manager.itemError(t)}}),s,n)}setMaterials(t){return this.materials=t,this}parse(t){const e=new w;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const s=t.split("\n");let n=[];for(let r=0,a=s.length;r<a;r++){const t=s[r].trimStart();if(0===t.length)continue;const o=t.charAt(0);if("#"!==o)if("v"===o){const s=t.split(p);switch(s[0]){case"v":e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])),s.length>=7?(v.setRGB(parseFloat(s[4]),parseFloat(s[5]),parseFloat(s[6])).convertSRGBToLinear(),e.colors.push(v.r,v.g,v.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));break;case"vt":e.uvs.push(parseFloat(s[1]),parseFloat(s[2]));break}}else if("f"===o){const s=t.slice(1).trim(),n=s.split(p),o=[];for(let t=0,e=n.length;t<e;t++){const e=n[t];if(e.length>0){const t=e.split("/");o.push(t)}}const i=o[0];for(let t=1,r=o.length-1;t<r;t++){const s=o[t],n=o[t+1];e.addFace(i[0],s[0],n[0],i[1],s[1],n[1],i[2],s[2],n[2])}}else if("l"===o){const s=t.substring(1).trim().split(" ");let n=[];const o=[];if(-1===t.indexOf("/"))n=s;else for(let t=0,e=s.length;t<e;t++){const e=s[t].split("/");""!==e[0]&&n.push(e[0]),""!==e[1]&&o.push(e[1])}e.addLineGeometry(n,o)}else if("p"===o){const s=t.slice(1).trim(),n=s.split(" ");e.addPointGeometry(n)}else if(null!==(n=l.exec(t))){const t=(" "+n[0].slice(1).trim()).slice(1);e.startObject(t)}else if(h.test(t))e.object.startMaterial(t.substring(7).trim(),e.materialLibraries);else if(c.test(t))e.materialLibraries.push(t.substring(7).trim());else if(u.test(t))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===o){if(n=t.split(" "),n.length>1){const t=n[1].trim().toLowerCase();e.object.smooth="0"!==t&&"off"!==t}else e.object.smooth=!0;const s=e.object.currentMaterial();s&&(s.smooth=e.object.smooth)}else{if("\0"===t)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+t+'"')}}e.finalize();const o=new a.ZAu;o.materialLibraries=[].concat(e.materialLibraries);const i=!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length);if(!0===i)for(let r=0,l=e.objects.length;r<l;r++){const t=e.objects[r],s=t.geometry,n=t.materials,i="Line"===s.type,l="Points"===s.type;let c=!1;if(0===s.vertices.length)continue;const h=new a.u9r;h.setAttribute("position",new a.a$l(s.vertices,3)),s.normals.length>0&&h.setAttribute("normal",new a.a$l(s.normals,3)),s.colors.length>0&&(c=!0,h.setAttribute("color",new a.a$l(s.colors,3))),!0===s.hasUVIndices&&h.setAttribute("uv",new a.a$l(s.uvs,2));const u=[];for(let o=0,r=n.length;o<r;o++){const t=n[o],s=t.name+"_"+t.smooth+"_"+c;let r=e.materials[s];if(null!==this.materials)if(r=this.materials.create(t.name),!i||!r||r instanceof a.nls){if(l&&r&&!(r instanceof a.UY4)){const t=new a.UY4({size:10,sizeAttenuation:!1});a.F5T.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,r=t}}else{const t=new a.nls;a.F5T.prototype.copy.call(t,r),t.color.copy(r.color),r=t}void 0===r&&(r=i?new a.nls:l?new a.UY4({size:1,sizeAttenuation:!1}):new a.xoR,r.name=t.name,r.flatShading=!t.smooth,r.vertexColors=c,e.materials[s]=r),u.push(r)}let p;if(u.length>1){for(let t=0,e=n.length;t<e;t++){const e=n[t];h.addGroup(e.groupStart,e.groupCount,t)}p=i?new a.ejS(h,u):l?new a.woe(h,u):new a.Kj0(h,u)}else p=i?new a.ejS(h,u[0]):l?new a.woe(h,u[0]):new a.Kj0(h,u[0]);p.name=t.name,o.add(p)}else if(e.vertices.length>0){const t=new a.UY4({size:1,sizeAttenuation:!1}),s=new a.u9r;s.setAttribute("position",new a.a$l(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(s.setAttribute("color",new a.a$l(e.colors,3)),t.vertexColors=!0);const n=new a.woe(s,t);o.add(n)}return o}}class x extends a.aNw{constructor(t){super(t)}load(t,e,s,n){const o=this,i=""===this.path?a.Zp0.extractUrlBase(t):this.path,r=new a.hH6(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,(function(s){try{e(o.parse(s,i))}catch(r){n?n(r):console.error(r),o.manager.itemError(t)}}),s,n)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,e){const s=t.split("\n");let n={};const o=/\s+/,i={};for(let a=0;a<s.length;a++){let t=s[a];if(t=t.trim(),0===t.length||"#"===t.charAt(0))continue;const e=t.indexOf(" ");let r=e>=0?t.substring(0,e):t;r=r.toLowerCase();let l=e>=0?t.substring(e+1):"";if(l=l.trim(),"newmtl"===r)n={name:l},i[l]=n;else if("ka"===r||"kd"===r||"ks"===r||"ke"===r){const t=l.split(o,3);n[r]=[parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]}else n[r]=l}const r=new j(this.resourcePath||e,this.materialOptions);return r.setCrossOrigin(this.crossOrigin),r.setManager(this.manager),r.setMaterials(i),r}}class j{constructor(t="",e={}){this.baseUrl=t,this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:a.Wl3,this.wrap=void 0!==this.options.wrap?this.options.wrap:a.rpg}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const e={};for(const s in t){const n=t[s],o={};e[s]=o;for(const t in n){let e=!0,s=n[t];const i=t.toLowerCase();switch(i){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(e=!1);break;default:break}e&&(o[i]=s)}}return e}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray}create(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const e=this,s=this.materialsInfo[t],n={name:t,side:this.side};function o(t,e){return"string"!==typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}function i(t,s){if(n[t])return;const i=e.getTextureParams(s,n),r=e.loadTexture(o(e.baseUrl,i.url));r.repeat.copy(i.scale),r.offset.copy(i.offset),r.wrapS=e.wrap,r.wrapT=e.wrap,"map"!==t&&"emissiveMap"!==t||(r.encoding=a.knz),n[t]=r}for(const r in s){const t=s[r];let e;if(""!==t)switch(r.toLowerCase()){case"kd":n.color=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"ks":n.specular=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"ke":n.emissive=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"map_kd":i("map",t);break;case"map_ks":i("specularMap",t);break;case"map_ke":i("emissiveMap",t);break;case"norm":i("normalMap",t);break;case"map_bump":case"bump":i("bumpMap",t);break;case"map_d":i("alphaMap",t),n.transparent=!0;break;case"ns":n.shininess=parseFloat(t);break;case"d":e=parseFloat(t),e<1&&(n.opacity=e,n.transparent=!0);break;case"tr":e=parseFloat(t),this.options&&this.options.invertTrProperty&&(e=1-e),e>0&&(n.opacity=1-e,n.transparent=!0);break;default:break}}return this.materials[t]=new a.xoR(n),this.materials[t]}getTextureParams(t,e){const s={scale:new a.FM8(1,1),offset:new a.FM8(0,0)},n=t.split(/\s+/);let o;return o=n.indexOf("-bm"),o>=0&&(e.bumpScale=parseFloat(n[o+1]),n.splice(o,2)),o=n.indexOf("-s"),o>=0&&(s.scale.set(parseFloat(n[o+1]),parseFloat(n[o+2])),n.splice(o,4)),o=n.indexOf("-o"),o>=0&&(s.offset.set(parseFloat(n[o+1]),parseFloat(n[o+2])),n.splice(o,4)),s.url=n.join(" ").trim(),s}loadTexture(t,e,s,n,o){const i=void 0!==this.manager?this.manager:a.tEQ;let r=i.getHandler(t);null===r&&(r=new a.dpR(i)),r.setCrossOrigin&&r.setCrossOrigin(this.crossOrigin);const l=r.load(t,s,n,o);return void 0!==e&&(l.mapping=e),l}}var k=s(4543);const _={class:"item"},O={key:0,class:"btn-group"},I={key:1,class:"loading"};var F={__name:"ObjLoadTest",props:{fileName:String},setup(t){const e=t,s=(0,r.iH)(!1),n=(0,r.iH)(0),l=t=>n.value=t;let c=(0,r.qj)({});const h=new a.xsS,u=new a.cPb(75,.6,.1,2e3),p=new a.CP7({antialias:!0,alpha:!0}),m=new a.Mig(16777215);let d=(0,r.qj)([]);const f=(0,r.iH)(null);h.add(u),h.add(m);const g=async t=>{const n=new y;n.setMaterials(t),n.setPath(`/vue3-ThreeJs_minecraft-Building-Portfolio/assets/${e.fileName}/`),n.load(`${e.fileName}.obj`,(t=>{"market"==e.fileName&&(t.rotation.y=180);let n=(new a.ZzF).setFromObject(t);const o=n.getSize(new a.Pa4),i=Math.max(o.x,o.y,o.z),r=n.getCenter(new a.Pa4);t.position.set(-r.x,-r.y,-r.z),u.position.y=o.y/2,u.position.z=i,u.position.x=i;let l=new a.ZAu;h.add(l),l.add(t),c=l,s.value=!0,d.noZoom=!1,d.noPan=!1,d.noRotate=!1,d.staticMoving=!0,f.value.appendChild(p.domElement),v(),w()}),(()=>{}),(t=>{console.log("obj load error:",t)}))},b=async()=>{const t=new x;t.setPath(`/vue3-ThreeJs_minecraft-Building-Portfolio/assets/${e.fileName}/`),t.load(`${e.fileName}.mtl`,(t=>{t.preload(),g(t)}),(t=>{}),(t=>{console.log("mtl load error:",t)}))},v=()=>{d=new k.z(u,p.domElement),d.noZoom=!0,d.noPan=!0,d.noRotate=!0,d.staticMoving=!1};b(),p.setSize(300,500),u.lookAt(0,25,0),h.background=new a.Ilk("hsl(0, 100%, 100%)"),(0,o.bv)((()=>{}));const w=()=>{requestAnimationFrame(w),p.render(h,u);try{c.rotation.y+=n.value}catch{}d.update()};return(t,n)=>((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("h2",null,(0,i.zw)(e.fileName),1),(0,o._)("div",{class:"wrapper",ref_key:"canvas",ref:f},[s.value?((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("button",{onClick:n[0]||(n[0]=t=>l(.01))},"회전"),(0,o._)("button",{onClick:n[1]||(n[1]=t=>l(0))},"멈춤")])):((0,o.wg)(),(0,o.iD)("div",I," Loading... "))],512)]))}},A=s(89);const C=(0,A.Z)(F,[["__scopeId","data-v-abe29a08"]]);var M=C;const L=t=>((0,o.dD)("data-v-7bbbfd8c"),t=t(),(0,o.Cn)(),t),P=L((()=>(0,o._)("h1",null,"Minecraft Buildings",-1))),z={class:"container"},V=L((()=>(0,o._)("footer",null,[(0,o._)("div",{class:"footer-wrap"},[(0,o._)("p",null,"Copyright © SEUNGMIN HAN 2023. All rights reserved."),(0,o._)("ul",{class:"social-media"},[(0,o._)("li",null,[(0,o._)("a",{href:"https://github.com/seungmin-han",target:"_blank"},"github")]),(0,o._)("li",null,[(0,o._)("a",{href:"https://www.instagram.com/1seungm1n/",target:"_blank"},"instagram")])])])],-1)));var U={__name:"App",setup(t){const e=["exllu","nakagin","house","market","hotel","villa","office_small","villa_12room","villa_4floor","villa_3floor","streetBlock","apartment"];return(t,s)=>((0,o.wg)(),(0,o.iD)(o.HY,null,[P,(0,o._)("div",z,[((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(e,((t,e)=>(0,o.Wm)(M,{key:e,fileName:t},null,8,["fileName"]))),64))]),V],64))}};const N=(0,A.Z)(U,[["__scopeId","data-v-7bbbfd8c"]]);var T=N;(0,n.ri)(T).mount("#app")}},e={};function s(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,s),i.exports}s.m=t,function(){var t=[];s.O=function(e,n,o,i){if(!n){var r=1/0;for(h=0;h<t.length;h++){n=t[h][0],o=t[h][1],i=t[h][2];for(var a=!0,l=0;l<n.length;l++)(!1&i||r>=i)&&Object.keys(s.O).every((function(t){return s.O[t](n[l])}))?n.splice(l--,1):(a=!1,i<r&&(r=i));if(a){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}i=i||0;for(var h=t.length;h>0&&t[h-1][2]>i;h--)t[h]=t[h-1];t[h]=[n,o,i]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,i,r=n[0],a=n[1],l=n[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var h=l(s)}for(e&&e(n);c<r.length;c++)i=r[c],s.o(t,i)&&t[i]&&t[i][0](),t[i]=0;return s.O(h)},n=self["webpackChunkminecraft_building_project"]=self["webpackChunkminecraft_building_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(5662)}));n=s.O(n)})();
//# sourceMappingURL=app.c958e645.js.map