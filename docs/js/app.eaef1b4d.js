(function(){"use strict";var t={8267:function(t,e,s){var i=s(9242),n=s(3396),o=s(4870),r=s(7139),a=(s(7658),s(1114));const l=/^[og]\s*(.+)?/,c=/^mtllib /,h=/^usemtl /,u=/^usemap /,p=/\s+/,m=new a.Pa4,d=new a.Pa4,f=new a.Pa4,g=new a.Pa4,v=new a.Pa4,b=new a.Ilk;function w(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const s=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const i={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){const e={index:"number"===typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(i),i},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},s&&s.name&&"function"===typeof s.clone){const t=s.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseNormalIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseUVIndex:function(t,e){const s=parseInt(t,10);return 2*(s>=0?s-1:s+e/2)},addVertex:function(t,e,s){const i=this.vertices,n=this.object.geometry.vertices;n.push(i[t+0],i[t+1],i[t+2]),n.push(i[e+0],i[e+1],i[e+2]),n.push(i[s+0],i[s+1],i[s+2])},addVertexPoint:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,s){const i=this.normals,n=this.object.geometry.normals;n.push(i[t+0],i[t+1],i[t+2]),n.push(i[e+0],i[e+1],i[e+2]),n.push(i[s+0],i[s+1],i[s+2])},addFaceNormal:function(t,e,s){const i=this.vertices,n=this.object.geometry.normals;m.fromArray(i,t),d.fromArray(i,e),f.fromArray(i,s),v.subVectors(f,d),g.subVectors(m,d),v.cross(g),v.normalize(),n.push(v.x,v.y,v.z),n.push(v.x,v.y,v.z),n.push(v.x,v.y,v.z)},addColor:function(t,e,s){const i=this.colors,n=this.object.geometry.colors;void 0!==i[t]&&n.push(i[t+0],i[t+1],i[t+2]),void 0!==i[e]&&n.push(i[e+0],i[e+1],i[e+2]),void 0!==i[s]&&n.push(i[s+0],i[s+1],i[s+2])},addUV:function(t,e,s){const i=this.uvs,n=this.object.geometry.uvs;n.push(i[t+0],i[t+1]),n.push(i[e+0],i[e+1]),n.push(i[s+0],i[s+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs,s=this.object.geometry.uvs;s.push(e[t+0],e[t+1])},addFace:function(t,e,s,i,n,o,r,a,l){const c=this.vertices.length;let h=this.parseVertexIndex(t,c),u=this.parseVertexIndex(e,c),p=this.parseVertexIndex(s,c);if(this.addVertex(h,u,p),this.addColor(h,u,p),void 0!==r&&""!==r){const t=this.normals.length;h=this.parseNormalIndex(r,t),u=this.parseNormalIndex(a,t),p=this.parseNormalIndex(l,t),this.addNormal(h,u,p)}else this.addFaceNormal(h,u,p);if(void 0!==i&&""!==i){const t=this.uvs.length;h=this.parseUVIndex(i,t),u=this.parseUVIndex(n,t),p=this.parseUVIndex(o,t),this.addUV(h,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let s=0,i=t.length;s<i;s++){const i=this.parseVertexIndex(t[s],e);this.addVertexPoint(i),this.addColor(i)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const s=this.vertices.length,i=this.uvs.length;for(let n=0,o=t.length;n<o;n++)this.addVertexLine(this.parseVertexIndex(t[n],s));for(let n=0,o=e.length;n<o;n++)this.addUVLine(this.parseUVIndex(e[n],i))}};return t.startObject("",!1),t}class y extends a.aNw{constructor(t){super(t),this.materials=null}load(t,e,s,i){const n=this,o=new a.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(s){try{e(n.parse(s))}catch(o){i?i(o):console.error(o),n.manager.itemError(t)}}),s,i)}setMaterials(t){return this.materials=t,this}parse(t){const e=new w;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const s=t.split("\n");let i=[];for(let r=0,a=s.length;r<a;r++){const t=s[r].trimStart();if(0===t.length)continue;const n=t.charAt(0);if("#"!==n)if("v"===n){const s=t.split(p);switch(s[0]){case"v":e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])),s.length>=7?(b.setRGB(parseFloat(s[4]),parseFloat(s[5]),parseFloat(s[6])).convertSRGBToLinear(),e.colors.push(b.r,b.g,b.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));break;case"vt":e.uvs.push(parseFloat(s[1]),parseFloat(s[2]));break}}else if("f"===n){const s=t.slice(1).trim(),i=s.split(p),n=[];for(let t=0,e=i.length;t<e;t++){const e=i[t];if(e.length>0){const t=e.split("/");n.push(t)}}const o=n[0];for(let t=1,r=n.length-1;t<r;t++){const s=n[t],i=n[t+1];e.addFace(o[0],s[0],i[0],o[1],s[1],i[1],o[2],s[2],i[2])}}else if("l"===n){const s=t.substring(1).trim().split(" ");let i=[];const n=[];if(-1===t.indexOf("/"))i=s;else for(let t=0,e=s.length;t<e;t++){const e=s[t].split("/");""!==e[0]&&i.push(e[0]),""!==e[1]&&n.push(e[1])}e.addLineGeometry(i,n)}else if("p"===n){const s=t.slice(1).trim(),i=s.split(" ");e.addPointGeometry(i)}else if(null!==(i=l.exec(t))){const t=(" "+i[0].slice(1).trim()).slice(1);e.startObject(t)}else if(h.test(t))e.object.startMaterial(t.substring(7).trim(),e.materialLibraries);else if(c.test(t))e.materialLibraries.push(t.substring(7).trim());else if(u.test(t))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===n){if(i=t.split(" "),i.length>1){const t=i[1].trim().toLowerCase();e.object.smooth="0"!==t&&"off"!==t}else e.object.smooth=!0;const s=e.object.currentMaterial();s&&(s.smooth=e.object.smooth)}else{if("\0"===t)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+t+'"')}}e.finalize();const n=new a.ZAu;n.materialLibraries=[].concat(e.materialLibraries);const o=!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length);if(!0===o)for(let r=0,l=e.objects.length;r<l;r++){const t=e.objects[r],s=t.geometry,i=t.materials,o="Line"===s.type,l="Points"===s.type;let c=!1;if(0===s.vertices.length)continue;const h=new a.u9r;h.setAttribute("position",new a.a$l(s.vertices,3)),s.normals.length>0&&h.setAttribute("normal",new a.a$l(s.normals,3)),s.colors.length>0&&(c=!0,h.setAttribute("color",new a.a$l(s.colors,3))),!0===s.hasUVIndices&&h.setAttribute("uv",new a.a$l(s.uvs,2));const u=[];for(let n=0,r=i.length;n<r;n++){const t=i[n],s=t.name+"_"+t.smooth+"_"+c;let r=e.materials[s];if(null!==this.materials)if(r=this.materials.create(t.name),!o||!r||r instanceof a.nls){if(l&&r&&!(r instanceof a.UY4)){const t=new a.UY4({size:10,sizeAttenuation:!1});a.F5T.prototype.copy.call(t,r),t.color.copy(r.color),t.map=r.map,r=t}}else{const t=new a.nls;a.F5T.prototype.copy.call(t,r),t.color.copy(r.color),r=t}void 0===r&&(r=o?new a.nls:l?new a.UY4({size:1,sizeAttenuation:!1}):new a.xoR,r.name=t.name,r.flatShading=!t.smooth,r.vertexColors=c,e.materials[s]=r),u.push(r)}let p;if(u.length>1){for(let t=0,e=i.length;t<e;t++){const e=i[t];h.addGroup(e.groupStart,e.groupCount,t)}p=o?new a.ejS(h,u):l?new a.woe(h,u):new a.Kj0(h,u)}else p=o?new a.ejS(h,u[0]):l?new a.woe(h,u[0]):new a.Kj0(h,u[0]);p.name=t.name,n.add(p)}else if(e.vertices.length>0){const t=new a.UY4({size:1,sizeAttenuation:!1}),s=new a.u9r;s.setAttribute("position",new a.a$l(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(s.setAttribute("color",new a.a$l(e.colors,3)),t.vertexColors=!0);const i=new a.woe(s,t);n.add(i)}return n}}class x extends a.aNw{constructor(t){super(t)}load(t,e,s,i){const n=this,o=""===this.path?a.Zp0.extractUrlBase(t):this.path,r=new a.hH6(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,(function(s){try{e(n.parse(s,o))}catch(r){i?i(r):console.error(r),n.manager.itemError(t)}}),s,i)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,e){const s=t.split("\n");let i={};const n=/\s+/,o={};for(let a=0;a<s.length;a++){let t=s[a];if(t=t.trim(),0===t.length||"#"===t.charAt(0))continue;const e=t.indexOf(" ");let r=e>=0?t.substring(0,e):t;r=r.toLowerCase();let l=e>=0?t.substring(e+1):"";if(l=l.trim(),"newmtl"===r)i={name:l},o[l]=i;else if("ka"===r||"kd"===r||"ks"===r||"ke"===r){const t=l.split(n,3);i[r]=[parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]}else i[r]=l}const r=new k(this.resourcePath||e,this.materialOptions);return r.setCrossOrigin(this.crossOrigin),r.setManager(this.manager),r.setMaterials(o),r}}class k{constructor(t="",e={}){this.baseUrl=t,this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:a.Wl3,this.wrap=void 0!==this.options.wrap?this.options.wrap:a.rpg}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const e={};for(const s in t){const i=t[s],n={};e[s]=n;for(const t in i){let e=!0,s=i[t];const o=t.toLowerCase();switch(o){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(e=!1);break;default:break}e&&(n[o]=s)}}return e}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray}create(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const e=this,s=this.materialsInfo[t],i={name:t,side:this.side};function n(t,e){return"string"!==typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}function o(t,s){if(i[t])return;const o=e.getTextureParams(s,i),r=e.loadTexture(n(e.baseUrl,o.url));r.repeat.copy(o.scale),r.offset.copy(o.offset),r.wrapS=e.wrap,r.wrapT=e.wrap,"map"!==t&&"emissiveMap"!==t||(r.encoding=a.knz),i[t]=r}for(const r in s){const t=s[r];let e;if(""!==t)switch(r.toLowerCase()){case"kd":i.color=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"ks":i.specular=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"ke":i.emissive=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"map_kd":o("map",t);break;case"map_ks":o("specularMap",t);break;case"map_ke":o("emissiveMap",t);break;case"norm":o("normalMap",t);break;case"map_bump":case"bump":o("bumpMap",t);break;case"map_d":o("alphaMap",t),i.transparent=!0;break;case"ns":i.shininess=parseFloat(t);break;case"d":e=parseFloat(t),e<1&&(i.opacity=e,i.transparent=!0);break;case"tr":e=parseFloat(t),this.options&&this.options.invertTrProperty&&(e=1-e),e>0&&(i.opacity=1-e,i.transparent=!0);break;default:break}}return this.materials[t]=new a.xoR(i),this.materials[t]}getTextureParams(t,e){const s={scale:new a.FM8(1,1),offset:new a.FM8(0,0)},i=t.split(/\s+/);let n;return n=i.indexOf("-bm"),n>=0&&(e.bumpScale=parseFloat(i[n+1]),i.splice(n,2)),n=i.indexOf("-s"),n>=0&&(s.scale.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),n=i.indexOf("-o"),n>=0&&(s.offset.set(parseFloat(i[n+1]),parseFloat(i[n+2])),i.splice(n,4)),s.url=i.join(" ").trim(),s}loadTexture(t,e,s,i,n){const o=void 0!==this.manager?this.manager:a.tEQ;let r=o.getHandler(t);null===r&&(r=new a.dpR(o)),r.setCrossOrigin&&r.setCrossOrigin(this.crossOrigin);const l=r.load(t,s,i,n);return void 0!==e&&(l.mapping=e),l}}var j=s(4543);const _={class:"item"},I={key:0,class:"btn-group"},O={key:1,class:"loading"};var z={__name:"BuildingItem",props:{fileName:String},emits:["zoom"],setup(t,{emit:e}){const s=t,i=(0,o.iH)(!1),l=(0,o.iH)(!1),c=(0,o.iH)(0),h=t=>c.value=t,u=()=>{l.value=!1,g.aspect=.6,v.setSize(300,500)},p=()=>{l.value=!0,g.aspect=window.innerWidth/window.innerHeight,v.setSize(window.innerWidth-100,window.innerHeight-100)},m=()=>{l.value?u():p(),e("zoom",l.value),g.updateProjectionMatrix()};let d=(0,o.qj)({});const f=new a.xsS,g=new a.cPb(75,.6,.1,2e3),v=new a.CP7({antialias:!0,alpha:!0}),b=new a.PMe(16777215,3),w=new a.PMe(16777215,3);b.lookAt(0,0,0),w.lookAt(0,0,0);let k=(0,o.qj)([]);const z=(0,o.iH)(null);f.add(g),f.add(b),f.add(w);const A=async t=>{const e=new y;e.setMaterials(t),e.setPath(`/vue3-ThreeJs_minecraft-Building-Portfolio/assets/${s.fileName}/`),e.load(`${s.fileName}.obj`,(t=>{"market"==s.fileName&&(t.rotation.y=110);let e=(new a.ZzF).setFromObject(t);const n=e.getSize(new a.Pa4),o=Math.max(n.x,n.y,n.z),r=e.getCenter(new a.Pa4);t.position.set(-r.x,-r.y,-r.z),g.position.y=n.y/2,g.position.z=o,g.position.x=o,b.position.set(o,o,o),w.position.set(-o,o,-o);let l=new a.ZAu;f.add(l),l.add(t),d=l,d.receiveShadow=!0,i.value=!0,k.noZoom=!1,k.noPan=!1,k.noRotate=!1,k.staticMoving=!0,z.value.appendChild(v.domElement),F(),M()}),(()=>{}),(t=>{console.log("obj load error:",t)}))},C=async()=>{const t=new x;t.setPath(`/vue3-ThreeJs_minecraft-Building-Portfolio/assets/${s.fileName}/`),t.load(`${s.fileName}.mtl`,(t=>{t.preload(),A(t)}),(()=>{}),(t=>{console.log("mtl load error:",t)}))},F=()=>{k=new j.z(g,v.domElement),k.noZoom=!0,k.noPan=!0,k.noRotate=!0,k.staticMoving=!1};C(),v.setSize(300,500),g.lookAt(0,25,0),f.background=new a.Ilk("hsl(0, 100%, 100%)"),(0,n.bv)((()=>{}));const M=()=>{requestAnimationFrame(M),v.render(f,g);try{d.rotation.y+=c.value}catch{}k.update()};return(t,e)=>((0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("h2",null,(0,r.zw)(s.fileName),1),(0,n._)("div",{class:(0,r.C_)(["wrapper",l.value?"zoom":"normal"]),ref_key:"canvas",ref:z},[i.value?((0,n.wg)(),(0,n.iD)("div",I,[(0,n._)("button",{onClick:e[0]||(e[0]=t=>h(.01))},"회전"),(0,n._)("button",{onClick:e[1]||(e[1]=t=>h(0))},"멈춤"),(0,n._)("button",{onClick:m},(0,r.zw)(l.value?"축소":"확대"),1)])):((0,n.wg)(),(0,n.iD)("div",O," Loading... "))],2)]))}},A=s(89);const C=(0,A.Z)(z,[["__scopeId","data-v-69a452fe"]]);var F=C;const M=t=>((0,n.dD)("data-v-2201d05c"),t=t(),(0,n.Cn)(),t),P={key:0,class:"overlay"},L=M((()=>(0,n._)("h1",null,"Minecraft Buildings",-1))),V={class:"container"},U=M((()=>(0,n._)("footer",null,[(0,n._)("div",{class:"footer-wrap"},[(0,n._)("p",null,"Copyright © SEUNGMIN HAN 2023. All rights reserved."),(0,n._)("ul",{class:"social-media"},[(0,n._)("li",null,[(0,n._)("a",{href:"https://github.com/seungmin-han",target:"_blank"},"github")]),(0,n._)("li",null,[(0,n._)("a",{href:"https://www.instagram.com/1seungm1n/",target:"_blank"},"instagram")])])])],-1)));var S={__name:"App",setup(t){const e=(0,o.iH)(!1),s=["exllu","nakagin","hotel","house","market","villa","office_small","villa_12room","villa_4floor","villa_3floor","streetBlock","apartment"],i=t=>{e.value=t};return(t,r)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[(0,o.SU)(e)?((0,n.wg)(),(0,n.iD)("div",P)):(0,n.kq)("",!0),L,(0,n._)("div",V,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(s,((t,e)=>(0,n.Wm)(F,{key:e,fileName:t,onZoom:i},null,8,["fileName"]))),64))]),U],64))}};const N=(0,A.Z)(S,[["__scopeId","data-v-2201d05c"]]);var T=N;(0,i.ri)(T).mount("#app")}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,o){if(!i){var r=1/0;for(h=0;h<t.length;h++){i=t[h][0],n=t[h][1],o=t[h][2];for(var a=!0,l=0;l<i.length;l++)(!1&o||r>=o)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(a=!1,o<r&&(r=o));if(a){t.splice(h--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[i,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,o,r=i[0],a=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var h=l(s)}for(e&&e(i);c<r.length;c++)o=r[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(h)},i=self["webpackChunkminecraft_building_project"]=self["webpackChunkminecraft_building_project"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(8267)}));i=s.O(i)})();
//# sourceMappingURL=app.eaef1b4d.js.map