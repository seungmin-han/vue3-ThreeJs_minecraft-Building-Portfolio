(function(){"use strict";var t={4553:function(t,e,s){var r=s(9242),n=s(3396),o=s(7139),i=s(4870),a=(s(7658),s(1114));const l=/^[og]\s*(.+)?/,c=/^mtllib /,h=/^usemtl /,u=/^usemap /,p=/\s+/,m=new a.Pa4,d=new a.Pa4,f=new a.Pa4,g=new a.Pa4,b=new a.Pa4,v=new a.Ilk;function w(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const s=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const r={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){const e={index:"number"===typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(r),r},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},s&&s.name&&"function"===typeof s.clone){const t=s.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseNormalIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseUVIndex:function(t,e){const s=parseInt(t,10);return 2*(s>=0?s-1:s+e/2)},addVertex:function(t,e,s){const r=this.vertices,n=this.object.geometry.vertices;n.push(r[t+0],r[t+1],r[t+2]),n.push(r[e+0],r[e+1],r[e+2]),n.push(r[s+0],r[s+1],r[s+2])},addVertexPoint:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,s){const r=this.normals,n=this.object.geometry.normals;n.push(r[t+0],r[t+1],r[t+2]),n.push(r[e+0],r[e+1],r[e+2]),n.push(r[s+0],r[s+1],r[s+2])},addFaceNormal:function(t,e,s){const r=this.vertices,n=this.object.geometry.normals;m.fromArray(r,t),d.fromArray(r,e),f.fromArray(r,s),b.subVectors(f,d),g.subVectors(m,d),b.cross(g),b.normalize(),n.push(b.x,b.y,b.z),n.push(b.x,b.y,b.z),n.push(b.x,b.y,b.z)},addColor:function(t,e,s){const r=this.colors,n=this.object.geometry.colors;void 0!==r[t]&&n.push(r[t+0],r[t+1],r[t+2]),void 0!==r[e]&&n.push(r[e+0],r[e+1],r[e+2]),void 0!==r[s]&&n.push(r[s+0],r[s+1],r[s+2])},addUV:function(t,e,s){const r=this.uvs,n=this.object.geometry.uvs;n.push(r[t+0],r[t+1]),n.push(r[e+0],r[e+1]),n.push(r[s+0],r[s+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs,s=this.object.geometry.uvs;s.push(e[t+0],e[t+1])},addFace:function(t,e,s,r,n,o,i,a,l){const c=this.vertices.length;let h=this.parseVertexIndex(t,c),u=this.parseVertexIndex(e,c),p=this.parseVertexIndex(s,c);if(this.addVertex(h,u,p),this.addColor(h,u,p),void 0!==i&&""!==i){const t=this.normals.length;h=this.parseNormalIndex(i,t),u=this.parseNormalIndex(a,t),p=this.parseNormalIndex(l,t),this.addNormal(h,u,p)}else this.addFaceNormal(h,u,p);if(void 0!==r&&""!==r){const t=this.uvs.length;h=this.parseUVIndex(r,t),u=this.parseUVIndex(n,t),p=this.parseUVIndex(o,t),this.addUV(h,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let s=0,r=t.length;s<r;s++){const r=this.parseVertexIndex(t[s],e);this.addVertexPoint(r),this.addColor(r)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const s=this.vertices.length,r=this.uvs.length;for(let n=0,o=t.length;n<o;n++)this.addVertexLine(this.parseVertexIndex(t[n],s));for(let n=0,o=e.length;n<o;n++)this.addUVLine(this.parseUVIndex(e[n],r))}};return t.startObject("",!1),t}class y extends a.aNw{constructor(t){super(t),this.materials=null}load(t,e,s,r){const n=this,o=new a.hH6(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,(function(s){try{e(n.parse(s))}catch(o){r?r(o):console.error(o),n.manager.itemError(t)}}),s,r)}setMaterials(t){return this.materials=t,this}parse(t){const e=new w;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const s=t.split("\n");let r=[];for(let i=0,a=s.length;i<a;i++){const t=s[i].trimStart();if(0===t.length)continue;const n=t.charAt(0);if("#"!==n)if("v"===n){const s=t.split(p);switch(s[0]){case"v":e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])),s.length>=7?(v.setRGB(parseFloat(s[4]),parseFloat(s[5]),parseFloat(s[6])).convertSRGBToLinear(),e.colors.push(v.r,v.g,v.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));break;case"vt":e.uvs.push(parseFloat(s[1]),parseFloat(s[2]));break}}else if("f"===n){const s=t.slice(1).trim(),r=s.split(p),n=[];for(let t=0,e=r.length;t<e;t++){const e=r[t];if(e.length>0){const t=e.split("/");n.push(t)}}const o=n[0];for(let t=1,i=n.length-1;t<i;t++){const s=n[t],r=n[t+1];e.addFace(o[0],s[0],r[0],o[1],s[1],r[1],o[2],s[2],r[2])}}else if("l"===n){const s=t.substring(1).trim().split(" ");let r=[];const n=[];if(-1===t.indexOf("/"))r=s;else for(let t=0,e=s.length;t<e;t++){const e=s[t].split("/");""!==e[0]&&r.push(e[0]),""!==e[1]&&n.push(e[1])}e.addLineGeometry(r,n)}else if("p"===n){const s=t.slice(1).trim(),r=s.split(" ");e.addPointGeometry(r)}else if(null!==(r=l.exec(t))){const t=(" "+r[0].slice(1).trim()).slice(1);e.startObject(t)}else if(h.test(t))e.object.startMaterial(t.substring(7).trim(),e.materialLibraries);else if(c.test(t))e.materialLibraries.push(t.substring(7).trim());else if(u.test(t))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===n){if(r=t.split(" "),r.length>1){const t=r[1].trim().toLowerCase();e.object.smooth="0"!==t&&"off"!==t}else e.object.smooth=!0;const s=e.object.currentMaterial();s&&(s.smooth=e.object.smooth)}else{if("\0"===t)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+t+'"')}}e.finalize();const n=new a.ZAu;n.materialLibraries=[].concat(e.materialLibraries);const o=!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length);if(!0===o)for(let i=0,l=e.objects.length;i<l;i++){const t=e.objects[i],s=t.geometry,r=t.materials,o="Line"===s.type,l="Points"===s.type;let c=!1;if(0===s.vertices.length)continue;const h=new a.u9r;h.setAttribute("position",new a.a$l(s.vertices,3)),s.normals.length>0&&h.setAttribute("normal",new a.a$l(s.normals,3)),s.colors.length>0&&(c=!0,h.setAttribute("color",new a.a$l(s.colors,3))),!0===s.hasUVIndices&&h.setAttribute("uv",new a.a$l(s.uvs,2));const u=[];for(let n=0,i=r.length;n<i;n++){const t=r[n],s=t.name+"_"+t.smooth+"_"+c;let i=e.materials[s];if(null!==this.materials)if(i=this.materials.create(t.name),!o||!i||i instanceof a.nls){if(l&&i&&!(i instanceof a.UY4)){const t=new a.UY4({size:10,sizeAttenuation:!1});a.F5T.prototype.copy.call(t,i),t.color.copy(i.color),t.map=i.map,i=t}}else{const t=new a.nls;a.F5T.prototype.copy.call(t,i),t.color.copy(i.color),i=t}void 0===i&&(i=o?new a.nls:l?new a.UY4({size:1,sizeAttenuation:!1}):new a.xoR,i.name=t.name,i.flatShading=!t.smooth,i.vertexColors=c,e.materials[s]=i),u.push(i)}let p;if(u.length>1){for(let t=0,e=r.length;t<e;t++){const e=r[t];h.addGroup(e.groupStart,e.groupCount,t)}p=o?new a.ejS(h,u):l?new a.woe(h,u):new a.Kj0(h,u)}else p=o?new a.ejS(h,u[0]):l?new a.woe(h,u[0]):new a.Kj0(h,u[0]);p.name=t.name,n.add(p)}else if(e.vertices.length>0){const t=new a.UY4({size:1,sizeAttenuation:!1}),s=new a.u9r;s.setAttribute("position",new a.a$l(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(s.setAttribute("color",new a.a$l(e.colors,3)),t.vertexColors=!0);const r=new a.woe(s,t);n.add(r)}return n}}class _ extends a.aNw{constructor(t){super(t)}load(t,e,s,r){const n=this,o=""===this.path?a.Zp0.extractUrlBase(t):this.path,i=new a.hH6(this.manager);i.setPath(this.path),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(t,(function(s){try{e(n.parse(s,o))}catch(i){r?r(i):console.error(i),n.manager.itemError(t)}}),s,r)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,e){const s=t.split("\n");let r={};const n=/\s+/,o={};for(let a=0;a<s.length;a++){let t=s[a];if(t=t.trim(),0===t.length||"#"===t.charAt(0))continue;const e=t.indexOf(" ");let i=e>=0?t.substring(0,e):t;i=i.toLowerCase();let l=e>=0?t.substring(e+1):"";if(l=l.trim(),"newmtl"===i)r={name:l},o[l]=r;else if("ka"===i||"kd"===i||"ks"===i||"ke"===i){const t=l.split(n,3);r[i]=[parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]}else r[i]=l}const i=new x(this.resourcePath||e,this.materialOptions);return i.setCrossOrigin(this.crossOrigin),i.setManager(this.manager),i.setMaterials(o),i}}class x{constructor(t="",e={}){this.baseUrl=t,this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:a.Wl3,this.wrap=void 0!==this.options.wrap?this.options.wrap:a.rpg}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const e={};for(const s in t){const r=t[s],n={};e[s]=n;for(const t in r){let e=!0,s=r[t];const o=t.toLowerCase();switch(o){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(e=!1);break;default:break}e&&(n[o]=s)}}return e}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray}create(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const e=this,s=this.materialsInfo[t],r={name:t,side:this.side};function n(t,e){return"string"!==typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}function o(t,s){if(r[t])return;const o=e.getTextureParams(s,r),i=e.loadTexture(n(e.baseUrl,o.url));i.repeat.copy(o.scale),i.offset.copy(o.offset),i.wrapS=e.wrap,i.wrapT=e.wrap,"map"!==t&&"emissiveMap"!==t||(i.encoding=a.knz),r[t]=i}for(const i in s){const t=s[i];let e;if(""!==t)switch(i.toLowerCase()){case"kd":r.color=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"ks":r.specular=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"ke":r.emissive=(new a.Ilk).fromArray(t).convertSRGBToLinear();break;case"map_kd":o("map",t);break;case"map_ks":o("specularMap",t);break;case"map_ke":o("emissiveMap",t);break;case"norm":o("normalMap",t);break;case"map_bump":case"bump":o("bumpMap",t);break;case"map_d":o("alphaMap",t),r.transparent=!0;break;case"ns":r.shininess=parseFloat(t);break;case"d":e=parseFloat(t),e<1&&(r.opacity=e,r.transparent=!0);break;case"tr":e=parseFloat(t),this.options&&this.options.invertTrProperty&&(e=1-e),e>0&&(r.opacity=1-e,r.transparent=!0);break;default:break}}return this.materials[t]=new a.xoR(r),this.materials[t]}getTextureParams(t,e){const s={scale:new a.FM8(1,1),offset:new a.FM8(0,0)},r=t.split(/\s+/);let n;return n=r.indexOf("-bm"),n>=0&&(e.bumpScale=parseFloat(r[n+1]),r.splice(n,2)),n=r.indexOf("-s"),n>=0&&(s.scale.set(parseFloat(r[n+1]),parseFloat(r[n+2])),r.splice(n,4)),n=r.indexOf("-o"),n>=0&&(s.offset.set(parseFloat(r[n+1]),parseFloat(r[n+2])),r.splice(n,4)),s.url=r.join(" ").trim(),s}loadTexture(t,e,s,r,n){const o=void 0!==this.manager?this.manager:a.tEQ;let i=o.getHandler(t);null===i&&(i=new a.dpR(o)),i.setCrossOrigin&&i.setCrossOrigin(this.crossOrigin);const l=i.load(t,s,r,n);return void 0!==e&&(l.mapping=e),l}}var j=s(4543);const k={class:"item"},A={class:"btn-group"};var P={__name:"ObjLoadTest",props:{fileName:String},setup(t){const e=t,s=(0,i.iH)(0),r=t=>s.value=t;let l=(0,i.qj)(null);const c=new a.xsS,h=new a.cPb(75,.6,.1,2e3),u=new a.CP7({antialias:!0}),p=new a.Mig(16777215);let m=(0,i.qj)([]);const d=(0,i.iH)(null);c.add(h),c.add(p);const f=t=>{const s=new y;s.setMaterials(t),s.setPath(`${{NODE_ENV:"production",VUE_APP_PUBLIC_PATH:"/vue3-ThreeJs_minecraft-Building-Portfolio",BASE_URL:"/vue3-ThreeJs_minecraft-Building-Portfolio/"}.VUE_APP_ASSET_DIR}/assets/${e.fileName}/`),s.load(`${e.fileName}.obj`,(t=>{let e=(new a.ZzF).setFromObject(t);const s=e.getSize(new a.Pa4),r=Math.max(s.x,s.y,s.z),n=e.getCenter(new a.Pa4);t.position.set(-n.x,-n.y,-n.z),h.position.y=s.y/2,h.position.z=r,h.position.x=r;let o=new a.ZAu;c.add(o),o.add(t),l=o}),(()=>{}),(t=>{console.log("obj load error:",t)}))},g=()=>{const t=new _;t.setPath(`${{NODE_ENV:"production",VUE_APP_PUBLIC_PATH:"/vue3-ThreeJs_minecraft-Building-Portfolio",BASE_URL:"/vue3-ThreeJs_minecraft-Building-Portfolio/"}.VUE_APP_ASSET_DIR}/assets/${e.fileName}/`),t.load(`${e.fileName}.mtl`,(t=>{t.preload(),f(t)}),(t=>{console.log(t.loaded/t.total*100+"% loaded")}),(t=>{console.log("mtl load error:",t)}))},b=()=>{m=new j.z(h,u.domElement)};g(),u.setSize(300,500),h.lookAt(0,25,0),c.background=new a.Ilk("hsl(0, 100%, 100%)"),(0,n.bv)((()=>{d.value.appendChild(u.domElement),b(),v()}));const v=()=>{requestAnimationFrame(v),u.render(c,h);try{l.rotation.y+=s.value}catch{}m.update()};return(t,s)=>((0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("h2",null,(0,o.zw)(e.fileName),1),(0,n._)("div",{class:"wrapper",ref_key:"canvas",ref:d},[(0,n._)("div",A,[(0,n._)("button",{onClick:s[0]||(s[0]=t=>r(.01))},"회전"),(0,n._)("button",{onClick:s[1]||(s[1]=t=>r(0))},"멈춤")])],512)]))}},I=s(89);const O=(0,I.Z)(P,[["__scopeId","data-v-61cd06fe"]]);var C=O;const F=t=>((0,n.dD)("data-v-7bbbfd8c"),t=t(),(0,n.Cn)(),t),V=F((()=>(0,n._)("h1",null,"Minecraft Buildings",-1))),L={class:"container"},U=F((()=>(0,n._)("footer",null,[(0,n._)("div",{class:"footer-wrap"},[(0,n._)("p",null,"Copyright © SEUNGMIN HAN 2023. All rights reserved."),(0,n._)("ul",{class:"social-media"},[(0,n._)("li",null,[(0,n._)("a",{href:"https://github.com/seungmin-han",target:"_blank"},"github")]),(0,n._)("li",null,[(0,n._)("a",{href:"https://www.instagram.com/1seungm1n/",target:"_blank"},"instagram")])])])],-1)));var M={__name:"App",setup(t){const e=["exllu","nakagin","house","market","hotel","villa","office_small","villa_12room","villa_4floor","villa_3floor","streetBlock","apartment"];return(t,s)=>((0,n.wg)(),(0,n.iD)(n.HY,null,[V,(0,n._)("div",L,[((0,n.wg)(),(0,n.iD)(n.HY,null,(0,n.Ko)(e,((t,e)=>(0,n.Wm)(C,{key:e,fileName:t},null,8,["fileName"]))),64))]),U],64))}};const E=(0,I.Z)(M,[["__scopeId","data-v-7bbbfd8c"]]);var z=E;(0,r.ri)(z).mount("#app")}},e={};function s(r){var n=e[r];if(void 0!==n)return n.exports;var o=e[r]={exports:{}};return t[r](o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,r,n,o){if(!r){var i=1/0;for(h=0;h<t.length;h++){r=t[h][0],n=t[h][1],o=t[h][2];for(var a=!0,l=0;l<r.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(t){return s.O[t](r[l])}))?r.splice(l--,1):(a=!1,o<i&&(i=o));if(a){t.splice(h--,1);var c=n();void 0!==c&&(e=c)}}return e}o=o||0;for(var h=t.length;h>0&&t[h-1][2]>o;h--)t[h]=t[h-1];t[h]=[r,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var n,o,i=r[0],a=r[1],l=r[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(l)var h=l(s)}for(e&&e(r);c<i.length;c++)o=i[c],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(h)},r=self["webpackChunkminecraft_building_project"]=self["webpackChunkminecraft_building_project"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[998],(function(){return s(4553)}));r=s.O(r)})();
//# sourceMappingURL=app.1c539a5c.js.map