(function(){"use strict";var t={4215:function(t,e,s){var n=s(9242),o=s(3396),r=s(4870),i=s(1114),a=s(2990);s(7658);const l=/^[og]\s*(.+)?/,c=/^mtllib /,h=/^usemtl /,u=/^usemap /,p=/\s+/,d=new i.Pa4,m=new i.Pa4,f=new i.Pa4,g=new i.Pa4,b=new i.Pa4,v=new i.Ilk;function w(){const t={objects:[],object:{},vertices:[],normals:[],colors:[],uvs:[],materials:{},materialLibraries:[],startObject:function(t,e){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=t,void(this.object.fromDeclaration=!1!==e);const s=this.object&&"function"===typeof this.object.currentMaterial?this.object.currentMaterial():void 0;if(this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0),this.object={name:t||"",fromDeclaration:!1!==e,geometry:{vertices:[],normals:[],colors:[],uvs:[],hasUVIndices:!1},materials:[],smooth:!0,startMaterial:function(t,e){const s=this._finalize(!1);s&&(s.inherited||s.groupCount<=0)&&this.materials.splice(s.index,1);const n={index:this.materials.length,name:t||"",mtllib:Array.isArray(e)&&e.length>0?e[e.length-1]:"",smooth:void 0!==s?s.smooth:this.smooth,groupStart:void 0!==s?s.groupEnd:0,groupEnd:-1,groupCount:-1,inherited:!1,clone:function(t){const e={index:"number"===typeof t?t:this.index,name:this.name,mtllib:this.mtllib,smooth:this.smooth,groupStart:0,groupEnd:-1,groupCount:-1,inherited:!1};return e.clone=this.clone.bind(e),e}};return this.materials.push(n),n},currentMaterial:function(){if(this.materials.length>0)return this.materials[this.materials.length-1]},_finalize:function(t){const e=this.currentMaterial();if(e&&-1===e.groupEnd&&(e.groupEnd=this.geometry.vertices.length/3,e.groupCount=e.groupEnd-e.groupStart,e.inherited=!1),t&&this.materials.length>1)for(let s=this.materials.length-1;s>=0;s--)this.materials[s].groupCount<=0&&this.materials.splice(s,1);return t&&0===this.materials.length&&this.materials.push({name:"",smooth:this.smooth}),e}},s&&s.name&&"function"===typeof s.clone){const t=s.clone(0);t.inherited=!0,this.object.materials.push(t)}this.objects.push(this.object)},finalize:function(){this.object&&"function"===typeof this.object._finalize&&this.object._finalize(!0)},parseVertexIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseNormalIndex:function(t,e){const s=parseInt(t,10);return 3*(s>=0?s-1:s+e/3)},parseUVIndex:function(t,e){const s=parseInt(t,10);return 2*(s>=0?s-1:s+e/2)},addVertex:function(t,e,s){const n=this.vertices,o=this.object.geometry.vertices;o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2]),o.push(n[s+0],n[s+1],n[s+2])},addVertexPoint:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addVertexLine:function(t){const e=this.vertices,s=this.object.geometry.vertices;s.push(e[t+0],e[t+1],e[t+2])},addNormal:function(t,e,s){const n=this.normals,o=this.object.geometry.normals;o.push(n[t+0],n[t+1],n[t+2]),o.push(n[e+0],n[e+1],n[e+2]),o.push(n[s+0],n[s+1],n[s+2])},addFaceNormal:function(t,e,s){const n=this.vertices,o=this.object.geometry.normals;d.fromArray(n,t),m.fromArray(n,e),f.fromArray(n,s),b.subVectors(f,m),g.subVectors(d,m),b.cross(g),b.normalize(),o.push(b.x,b.y,b.z),o.push(b.x,b.y,b.z),o.push(b.x,b.y,b.z)},addColor:function(t,e,s){const n=this.colors,o=this.object.geometry.colors;void 0!==n[t]&&o.push(n[t+0],n[t+1],n[t+2]),void 0!==n[e]&&o.push(n[e+0],n[e+1],n[e+2]),void 0!==n[s]&&o.push(n[s+0],n[s+1],n[s+2])},addUV:function(t,e,s){const n=this.uvs,o=this.object.geometry.uvs;o.push(n[t+0],n[t+1]),o.push(n[e+0],n[e+1]),o.push(n[s+0],n[s+1])},addDefaultUV:function(){const t=this.object.geometry.uvs;t.push(0,0),t.push(0,0),t.push(0,0)},addUVLine:function(t){const e=this.uvs,s=this.object.geometry.uvs;s.push(e[t+0],e[t+1])},addFace:function(t,e,s,n,o,r,i,a,l){const c=this.vertices.length;let h=this.parseVertexIndex(t,c),u=this.parseVertexIndex(e,c),p=this.parseVertexIndex(s,c);if(this.addVertex(h,u,p),this.addColor(h,u,p),void 0!==i&&""!==i){const t=this.normals.length;h=this.parseNormalIndex(i,t),u=this.parseNormalIndex(a,t),p=this.parseNormalIndex(l,t),this.addNormal(h,u,p)}else this.addFaceNormal(h,u,p);if(void 0!==n&&""!==n){const t=this.uvs.length;h=this.parseUVIndex(n,t),u=this.parseUVIndex(o,t),p=this.parseUVIndex(r,t),this.addUV(h,u,p),this.object.geometry.hasUVIndices=!0}else this.addDefaultUV()},addPointGeometry:function(t){this.object.geometry.type="Points";const e=this.vertices.length;for(let s=0,n=t.length;s<n;s++){const n=this.parseVertexIndex(t[s],e);this.addVertexPoint(n),this.addColor(n)}},addLineGeometry:function(t,e){this.object.geometry.type="Line";const s=this.vertices.length,n=this.uvs.length;for(let o=0,r=t.length;o<r;o++)this.addVertexLine(this.parseVertexIndex(t[o],s));for(let o=0,r=e.length;o<r;o++)this.addUVLine(this.parseUVIndex(e[o],n))}};return t.startObject("",!1),t}class y extends i.aNw{constructor(t){super(t),this.materials=null}load(t,e,s,n){const o=this,r=new i.hH6(this.manager);r.setPath(this.path),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,(function(s){try{e(o.parse(s))}catch(r){n?n(r):console.error(r),o.manager.itemError(t)}}),s,n)}setMaterials(t){return this.materials=t,this}parse(t){const e=new w;-1!==t.indexOf("\r\n")&&(t=t.replace(/\r\n/g,"\n")),-1!==t.indexOf("\\\n")&&(t=t.replace(/\\\n/g,""));const s=t.split("\n");let n=[];for(let i=0,a=s.length;i<a;i++){const t=s[i].trimStart();if(0===t.length)continue;const o=t.charAt(0);if("#"!==o)if("v"===o){const s=t.split(p);switch(s[0]){case"v":e.vertices.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3])),s.length>=7?(v.setRGB(parseFloat(s[4]),parseFloat(s[5]),parseFloat(s[6])).convertSRGBToLinear(),e.colors.push(v.r,v.g,v.b)):e.colors.push(void 0,void 0,void 0);break;case"vn":e.normals.push(parseFloat(s[1]),parseFloat(s[2]),parseFloat(s[3]));break;case"vt":e.uvs.push(parseFloat(s[1]),parseFloat(s[2]));break}}else if("f"===o){const s=t.slice(1).trim(),n=s.split(p),o=[];for(let t=0,e=n.length;t<e;t++){const e=n[t];if(e.length>0){const t=e.split("/");o.push(t)}}const r=o[0];for(let t=1,i=o.length-1;t<i;t++){const s=o[t],n=o[t+1];e.addFace(r[0],s[0],n[0],r[1],s[1],n[1],r[2],s[2],n[2])}}else if("l"===o){const s=t.substring(1).trim().split(" ");let n=[];const o=[];if(-1===t.indexOf("/"))n=s;else for(let t=0,e=s.length;t<e;t++){const e=s[t].split("/");""!==e[0]&&n.push(e[0]),""!==e[1]&&o.push(e[1])}e.addLineGeometry(n,o)}else if("p"===o){const s=t.slice(1).trim(),n=s.split(" ");e.addPointGeometry(n)}else if(null!==(n=l.exec(t))){const t=(" "+n[0].slice(1).trim()).slice(1);e.startObject(t)}else if(h.test(t))e.object.startMaterial(t.substring(7).trim(),e.materialLibraries);else if(c.test(t))e.materialLibraries.push(t.substring(7).trim());else if(u.test(t))console.warn('THREE.OBJLoader: Rendering identifier "usemap" not supported. Textures must be defined in MTL files.');else if("s"===o){if(n=t.split(" "),n.length>1){const t=n[1].trim().toLowerCase();e.object.smooth="0"!==t&&"off"!==t}else e.object.smooth=!0;const s=e.object.currentMaterial();s&&(s.smooth=e.object.smooth)}else{if("\0"===t)continue;console.warn('THREE.OBJLoader: Unexpected line: "'+t+'"')}}e.finalize();const o=new i.ZAu;o.materialLibraries=[].concat(e.materialLibraries);const r=!(1===e.objects.length&&0===e.objects[0].geometry.vertices.length);if(!0===r)for(let a=0,l=e.objects.length;a<l;a++){const t=e.objects[a],s=t.geometry,n=t.materials,r="Line"===s.type,l="Points"===s.type;let c=!1;if(0===s.vertices.length)continue;const h=new i.u9r;h.setAttribute("position",new i.a$l(s.vertices,3)),s.normals.length>0&&h.setAttribute("normal",new i.a$l(s.normals,3)),s.colors.length>0&&(c=!0,h.setAttribute("color",new i.a$l(s.colors,3))),!0===s.hasUVIndices&&h.setAttribute("uv",new i.a$l(s.uvs,2));const u=[];for(let o=0,a=n.length;o<a;o++){const t=n[o],s=t.name+"_"+t.smooth+"_"+c;let a=e.materials[s];if(null!==this.materials)if(a=this.materials.create(t.name),!r||!a||a instanceof i.nls){if(l&&a&&!(a instanceof i.UY4)){const t=new i.UY4({size:10,sizeAttenuation:!1});i.F5T.prototype.copy.call(t,a),t.color.copy(a.color),t.map=a.map,a=t}}else{const t=new i.nls;i.F5T.prototype.copy.call(t,a),t.color.copy(a.color),a=t}void 0===a&&(a=r?new i.nls:l?new i.UY4({size:1,sizeAttenuation:!1}):new i.xoR,a.name=t.name,a.flatShading=!t.smooth,a.vertexColors=c,e.materials[s]=a),u.push(a)}let p;if(u.length>1){for(let t=0,e=n.length;t<e;t++){const e=n[t];h.addGroup(e.groupStart,e.groupCount,t)}p=r?new i.ejS(h,u):l?new i.woe(h,u):new i.Kj0(h,u)}else p=r?new i.ejS(h,u[0]):l?new i.woe(h,u[0]):new i.Kj0(h,u[0]);p.name=t.name,o.add(p)}else if(e.vertices.length>0){const t=new i.UY4({size:1,sizeAttenuation:!1}),s=new i.u9r;s.setAttribute("position",new i.a$l(e.vertices,3)),e.colors.length>0&&void 0!==e.colors[0]&&(s.setAttribute("color",new i.a$l(e.colors,3)),t.vertexColors=!0);const n=new i.woe(s,t);o.add(n)}return o}}class x extends i.aNw{constructor(t){super(t)}load(t,e,s,n){const o=this,r=""===this.path?i.Zp0.extractUrlBase(t):this.path,a=new i.hH6(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(s){try{e(o.parse(s,r))}catch(i){n?n(i):console.error(i),o.manager.itemError(t)}}),s,n)}setMaterialOptions(t){return this.materialOptions=t,this}parse(t,e){const s=t.split("\n");let n={};const o=/\s+/,r={};for(let a=0;a<s.length;a++){let t=s[a];if(t=t.trim(),0===t.length||"#"===t.charAt(0))continue;const e=t.indexOf(" ");let i=e>=0?t.substring(0,e):t;i=i.toLowerCase();let l=e>=0?t.substring(e+1):"";if(l=l.trim(),"newmtl"===i)n={name:l},r[l]=n;else if("ka"===i||"kd"===i||"ks"===i||"ke"===i){const t=l.split(o,3);n[i]=[parseFloat(t[0]),parseFloat(t[1]),parseFloat(t[2])]}else n[i]=l}const i=new j(this.resourcePath||e,this.materialOptions);return i.setCrossOrigin(this.crossOrigin),i.setManager(this.manager),i.setMaterials(r),i}}class j{constructor(t="",e={}){this.baseUrl=t,this.options=e,this.materialsInfo={},this.materials={},this.materialsArray=[],this.nameLookup={},this.crossOrigin="anonymous",this.side=void 0!==this.options.side?this.options.side:i.Wl3,this.wrap=void 0!==this.options.wrap?this.options.wrap:i.rpg}setCrossOrigin(t){return this.crossOrigin=t,this}setManager(t){this.manager=t}setMaterials(t){this.materialsInfo=this.convert(t),this.materials={},this.materialsArray=[],this.nameLookup={}}convert(t){if(!this.options)return t;const e={};for(const s in t){const n=t[s],o={};e[s]=o;for(const t in n){let e=!0,s=n[t];const r=t.toLowerCase();switch(r){case"kd":case"ka":case"ks":this.options&&this.options.normalizeRGB&&(s=[s[0]/255,s[1]/255,s[2]/255]),this.options&&this.options.ignoreZeroRGBs&&0===s[0]&&0===s[1]&&0===s[2]&&(e=!1);break;default:break}e&&(o[r]=s)}}return e}preload(){for(const t in this.materialsInfo)this.create(t)}getIndex(t){return this.nameLookup[t]}getAsArray(){let t=0;for(const e in this.materialsInfo)this.materialsArray[t]=this.create(e),this.nameLookup[e]=t,t++;return this.materialsArray}create(t){return void 0===this.materials[t]&&this.createMaterial_(t),this.materials[t]}createMaterial_(t){const e=this,s=this.materialsInfo[t],n={name:t,side:this.side};function o(t,e){return"string"!==typeof e||""===e?"":/^https?:\/\//i.test(e)?e:t+e}function r(t,s){if(n[t])return;const r=e.getTextureParams(s,n),a=e.loadTexture(o(e.baseUrl,r.url));a.repeat.copy(r.scale),a.offset.copy(r.offset),a.wrapS=e.wrap,a.wrapT=e.wrap,"map"!==t&&"emissiveMap"!==t||(a.encoding=i.knz),n[t]=a}for(const a in s){const t=s[a];let e;if(""!==t)switch(a.toLowerCase()){case"kd":n.color=(new i.Ilk).fromArray(t).convertSRGBToLinear();break;case"ks":n.specular=(new i.Ilk).fromArray(t).convertSRGBToLinear();break;case"ke":n.emissive=(new i.Ilk).fromArray(t).convertSRGBToLinear();break;case"map_kd":r("map",t);break;case"map_ks":r("specularMap",t);break;case"map_ke":r("emissiveMap",t);break;case"norm":r("normalMap",t);break;case"map_bump":case"bump":r("bumpMap",t);break;case"map_d":r("alphaMap",t),n.transparent=!0;break;case"ns":n.shininess=parseFloat(t);break;case"d":e=parseFloat(t),e<1&&(n.opacity=e,n.transparent=!0);break;case"tr":e=parseFloat(t),this.options&&this.options.invertTrProperty&&(e=1-e),e>0&&(n.opacity=1-e,n.transparent=!0);break;default:break}}return this.materials[t]=new i.xoR(n),this.materials[t]}getTextureParams(t,e){const s={scale:new i.FM8(1,1),offset:new i.FM8(0,0)},n=t.split(/\s+/);let o;return o=n.indexOf("-bm"),o>=0&&(e.bumpScale=parseFloat(n[o+1]),n.splice(o,2)),o=n.indexOf("-s"),o>=0&&(s.scale.set(parseFloat(n[o+1]),parseFloat(n[o+2])),n.splice(o,4)),o=n.indexOf("-o"),o>=0&&(s.offset.set(parseFloat(n[o+1]),parseFloat(n[o+2])),n.splice(o,4)),s.url=n.join(" ").trim(),s}loadTexture(t,e,s,n,o){const r=void 0!==this.manager?this.manager:i.tEQ;let a=r.getHandler(t);null===a&&(a=new i.dpR(r)),a.setCrossOrigin&&a.setCrossOrigin(this.crossOrigin);const l=a.load(t,s,n,o);return void 0!==e&&(l.mapping=e),l}}var k={__name:"ObjLoadTest",setup(t){const e="nakagin",s="nakagin";let n=(0,r.qj)(null);const l=new i.xsS,c=new i.cPb(75,window.innerWidth/window.innerHeight,.1,2e3),h=new i.CP7({antialias:!0}),u=new i.Ox3("hsl(44, 100%, 100%)");let p=(0,r.qj)([]);const d=(0,r.iH)(null),m=new i.y8_(5);l.add(m),l.add(c),l.add(u);const f=new x;f.setPath(`/assets/${e}/`),f.load(`${s}.mtl`,(t=>{t.preload();const o=new y;o.setMaterials(t),o.setPath(`/assets/${e}/`),o.load(`${s}.obj`,(t=>{let e=(new i.ZzF).setFromObject(t);const s=e.getCenter(new i.Pa4);t.position.set(-s.x,-s.y,-s.z);let o=new i.ZAu;l.add(o),o.add(t),n=o}),(t=>{console.log(t.loaded/t.total*100+"% loaded")}),(t=>{console.log("obj load error:",t)}))}),(t=>{console.log(t.loaded/t.total*100+"% loaded")}),(t=>{console.log("mtl load error:",t)})),h.setSize(window.innerWidth,window.innerHeight),u.position.set(0,5,10),c.position.y=1e3,c.position.z=0,c.position.x=10,l.background=new i.Ilk("hsl(0, 100%, 100%)"),(0,o.bv)((()=>{d.value.appendChild(h.domElement),p=new a.Z(c,h.domElement),p.rotateSpeed=3,p.zoomSpeed=5,p.panSpeed=3,p.noZoom=!1,p.noPan=!1,p.noRotate=!1,p.staticMoving=!0,p.dynamicDampingFactor=.3,g()}));const g=()=>{requestAnimationFrame(g),h.render(l,c);try{n.rotation.y+=.01}catch{}p.update()};return(t,e)=>((0,o.wg)(),(0,o.iD)("div",{ref_key:"canvas",ref:d},null,512))}};const O=k;var F=O,I={__name:"App",setup(t){return(t,e)=>((0,o.wg)(),(0,o.j4)(F))}};const A=I;var L=A;(0,n.ri)(L).mount("#app")}},e={};function s(n){var o=e[n];if(void 0!==o)return o.exports;var r=e[n]={exports:{}};return t[n](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,n,o,r){if(!n){var i=1/0;for(h=0;h<t.length;h++){n=t[h][0],o=t[h][1],r=t[h][2];for(var a=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((function(t){return s.O[t](n[l])}))?n.splice(l--,1):(a=!1,r<i&&(i=r));if(a){t.splice(h--,1);var c=o();void 0!==c&&(e=c)}}return e}r=r||0;for(var h=t.length;h>0&&t[h-1][2]>r;h--)t[h]=t[h-1];t[h]=[n,o,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var n in e)s.o(e,n)&&!s.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,r,i=n[0],a=n[1],l=n[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var h=l(s)}for(e&&e(n);c<i.length;c++)r=i[c],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(h)},n=self["webpackChunkminecraft_building_project"]=self["webpackChunkminecraft_building_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=s.O(void 0,[998],(function(){return s(4215)}));n=s.O(n)})();
//# sourceMappingURL=app.27499cba.js.map